<!DOCTYPE html>
<html>
  <head>
    <!-- Use A-frame -->
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>

    <!-- Adds environments -->
    <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>

    <!-- Adds support for Oculus/Meta thumbstick controls for movement 
    <script src="https://gftruj.github.io/webzamples/aframe/controls/oculus-thumbstick-controls.js"></script>
    -->
    <script src="controls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-orbit-controls@1.3.2/dist/aframe-orbit-controls.min.js"></script>
  </head>

  <body>
    <a-scene shadow="type: pcfsoft;">
      <!-- Environment -->
      <a-entity
        environment="preset: checkerboard; fog: 0.8; dressingColor: purple; dressing: towers; dressingAmount: 500; shadow: true; lightPosition: 0 5 -5"
      ></a-entity>

      <a-entity shadow="cast:true; receive:true">
        <!-- Adds shadows for objects inside -->

        <a-entity 
            id="pumpkin"
            class="draggable"
            position="0 1.17 -6"
            scale="1 .7 1">
          <!-- Squash the pumpkin vertically -->

          <!-- Pumpkin -->
          <a-sphere
            radius=".25"
            color="#e67d0e"
            rotation="0 -90 0"
            material="src:url(Pumpkin skin.jpg)"
          ></a-sphere>

          <!-- Stalk -->
          <a-cylinder
            color="green"
            height=".2"
            radius=".02"
            position="0 0.3 0"
            rotation="0 0 -25"
          ></a-cylinder>
        </a-entity>

        <!-- Table top -->
        <a-entity id="table" class="draggable" position="0 1 -6">        
        <a-box
          color="saddlebrown"
          depth="1"
          height=".05"
          width="1"
        ></a-box>

        <!-- Table legs -->
        <a-box
          color="saddlebrown"
          depth="0.1"
          height="1"
          width="0.1"
          position="-0.45 -0.5 -0.55"
        ></a-box>
        <a-box
          color="saddlebrown"
          depth="0.1"
          height="1"
          width="0.1"
          position="0.45 -0.5 -0.55"
        ></a-box>
        <a-box
          color="saddlebrown"
          depth="0.1"
          height="1"
          width="0.1"
          position="-0.45 -0.5 0.45"
        ></a-box>
        <a-box
          color="saddlebrown"
          depth="0.1"
          height="1"
          width="0.1"
          position="0.45 -0.5 0.45"
        ></a-box>
      </a-entity>

      <!-- Controls for Meta quest and similar headsets -->
      <a-entity id="rig">
        <a-camera position="0 1.2 1"></a-camera>
        <a-entity oculus-touch-controls="hand: left"
        
        ></a-entity>
        <a-entity
          oculus-touch-controls="hand: right"
          oculus-thumbstick-controls manipulate-object
        ></a-entity>
        <a-entity laser-controls="hand: left"></a-entity>
        <a-entity laser-controls="hand: right"></a-entity>
      </a-entity>

    </a-scene>
  </body>
</html>
